<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>IND_Cambio_SubEstadoDDJJ_Org_y_Sup</fullName>
    <active>false</active>
    <description>Si la funcion es Org o Sup, el subestado DDJJ solo puede ser Auditoria, Firma OS, Traspaso, Pedido de estudio</description>
    <errorConditionFormula>AND(
 NOT(ISNEW()),        
OR(
$UserRole.Name = &quot;Org. AMBA&quot;,

$UserRole.Name = &quot;Org. Buenos Aires Centro&quot;,

$UserRole.Name = &quot;Org. Buenos Aires Sur&quot;,

$UserRole.Name = &quot;Org. Patagonia Andina&quot;,

$UserRole.Name = &quot;Org. Buenos Aires Norte&quot;,

$UserRole.Name = &quot;Org. Pampeana&quot;,

$UserRole.Name = &quot;Org. Rosario&quot;,

$UserRole.Name = &quot;Org. Núcleo&quot;,

$UserRole.Name = &quot;Org. Córdoba Norte&quot;,

$UserRole.Name = &quot;Org. NEA&quot;,

$UserRole.Name = &quot;Org. NOA&quot;,

$UserRole.Name = &quot;Org. Córdoba Sur&quot;,

$UserRole.Name = &quot;Org. Santa Fe Centro&quot;,

$UserRole.Name = &quot;Org. Litoral&quot;,

$UserRole.Name = &quot;Org. Buenos Aires Costa Atlántica&quot;,

$UserRole.Name = &quot;Org. Patagonia Costa Atlántica&quot;,


$UserRole.Name = &quot;Supervisor AMBA&quot;,

$UserRole.Name = &quot;Supervisor Buenos Aires Centro&quot;,

$UserRole.Name = &quot;Supervisor Buenos Aires Sur&quot;,

$UserRole.Name = &quot;Supervisor Patagonia Andina&quot;,

$UserRole.Name = &quot;Supervisor Buenos Aires Norte&quot;,

$UserRole.Name = &quot;Supervisor Pampeana&quot;,

$UserRole.Name = &quot;Supervisor Rosario&quot;,

$UserRole.Name = &quot;Supervisor Núcleo&quot;,

$UserRole.Name = &quot;SupervisorCórdoba Norte&quot;,

$UserRole.Name = &quot;Supervisor NEA&quot;,

$UserRole.Name = &quot;Supervisor NOA&quot;,

$UserRole.Name = &quot;Supervisor Córdoba Sur&quot;,

$UserRole.Name = &quot;Supervisor Santa Fe Centro&quot;,

$UserRole.Name = &quot;Supervisor Litoral&quot;,

$UserRole.Name = &quot;Supervisor Buenos Aires Costa Atlántica&quot;,

$UserRole.Name = &quot;Supervisor Patagonia Costa Atlántica&quot;
),
OR(
  RecordType.Name = &quot;Individuos&quot;,
  RecordType.Name = &quot;Individual Corporativo&quot;
      ),
OR(
      AND(
              NOT(ISPICKVAL(PRIORVALUE(Subestado_de_DDJJ__c), &quot;NUEVA&quot;)),
               OR(
                     NOT(ISPICKVAL(Subestado_de_DDJJ__c,&quot;PEDIDO ESTUDIO&quot;)),
                     NOT(ISPICKVAL(Subestado_de_DDJJ__c,&quot;FIRMA O.S.&quot;))
                    )
              ),
       AND(
              NOT(ISPICKVAL(PRIORVALUE(Subestado_de_DDJJ__c), &quot;PEDIDO ESTUDIO&quot;)),
              NOT(ISPICKVAL(Subestado_de_DDJJ__c,&quot;AUDITORIA&quot;))
              ),
       AND(
              NOT(ISPICKVAL(PRIORVALUE(Subestado_de_DDJJ__c), &quot;FIRMA O.S.&quot;)),
              NOT(ISPICKVAL(Subestado_de_DDJJ__c,&quot;TRASPASO&quot;))
              ),
       AND(
              NOT(ISBLANK(TEXT(PRIORVALUE(Subestado_de_DDJJ__c)))),
              NOT(ISPICKVAL(Subestado_de_DDJJ__c,&quot;NUEVA&quot;))
              )

)
)</errorConditionFormula>
    <errorDisplayField>Subestado_de_DDJJ__c</errorDisplayField>
    <errorMessage>Su función solo admite los valores &quot;TRASPASO&quot;, &quot;AUDITORIA&quot;, &quot;FIRMA O.S.&quot;, &quot;PEDIDO DE ESTUDIO&quot;</errorMessage>
</ValidationRule>
